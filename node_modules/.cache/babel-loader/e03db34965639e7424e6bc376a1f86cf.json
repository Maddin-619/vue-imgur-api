{"remainingRequest":"/Users/guelecb/Projects/vue/image_project/images/node_modules/babel-loader/lib/index.js!/Users/guelecb/Projects/vue/image_project/images/node_modules/eslint-loader/index.js??ref--13-0!/Users/guelecb/Projects/vue/image_project/images/src/store/modules/auth.js","dependencies":[{"path":"/Users/guelecb/Projects/vue/image_project/images/src/store/modules/auth.js","mtime":1569969198686},{"path":"/Users/guelecb/Projects/vue/image_project/images/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guelecb/Projects/vue/image_project/images/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guelecb/Projects/vue/image_project/images/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport api from \"../../api/imgur\";\nimport qs from 'qs';\nimport { router } from \"../../main\";\nvar state = {\n  token: window.localStorage.getItem('imgur_token')\n};\nvar getters = {\n  isLoggedIn: function isLoggedIn(state) {\n    return !!state.token;\n  }\n};\nvar actions = {\n  logout: function logout(_ref) {\n    var commit = _ref.commit;\n    commit('setToken', null);\n    window.localStorage.removeItem('imgur_token');\n  },\n  login: function login() {\n    api.login();\n  },\n  finalizeLogin: function finalizeLogin(_ref2, hash) {\n    var commit = _ref2.commit;\n    var query = qs.parse(hash.replace('#', ''));\n    commit('setToken', query.access_token);\n    window.localStorage.setItem('imgur_token', query.access_token);\n    router.push('/');\n  }\n};\nvar mutations = {\n  setToken: function setToken(state, token) {\n    state.token = token;\n  }\n};\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};",{"version":3,"sources":["/Users/guelecb/Projects/vue/image_project/images/src/store/modules/auth.js"],"names":["api","qs","router","state","token","window","localStorage","getItem","getters","isLoggedIn","actions","logout","commit","removeItem","login","finalizeLogin","hash","query","parse","replace","access_token","setItem","push","mutations","setToken"],"mappings":";AAAA,OAAOA,GAAP;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAAQC,MAAR;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAEC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B;AADG,CAAd;AAIA,IAAMC,OAAO,GAAI;AACbC,EAAAA,UAAU,EAAG,oBAAAN,KAAK;AAAA,WAAK,CAAC,CAACA,KAAK,CAACC,KAAb;AAAA;AADL,CAAjB;AAIA,IAAMM,OAAO,GAAG;AACZC,EAAAA,MAAM,EAAE,sBACR;AAAA,QADUC,MACV,QADUA,MACV;AACIA,IAAAA,MAAM,CAAC,UAAD,EAAa,IAAb,CAAN;AACAP,IAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,aAA/B;AACH,GALW;AAMZC,EAAAA,KAAK,EAAG,iBAAK;AACTd,IAAAA,GAAG,CAACc,KAAJ;AACH,GARW;AASZC,EAAAA,aATY,gCASYC,IATZ,EAUZ;AAAA,QADeJ,MACf,SADeA,MACf;AACI,QAAMK,KAAK,GAAGhB,EAAE,CAACiB,KAAH,CAASF,IAAI,CAACG,OAAL,CAAa,GAAb,EAAiB,EAAjB,CAAT,CAAd;AACAP,IAAAA,MAAM,CAAC,UAAD,EAAaK,KAAK,CAACG,YAAnB,CAAN;AACAf,IAAAA,MAAM,CAACC,YAAP,CAAoBe,OAApB,CAA4B,aAA5B,EAA2CJ,KAAK,CAACG,YAAjD;AACAlB,IAAAA,MAAM,CAACoB,IAAP,CAAY,GAAZ;AACH;AAfW,CAAhB;AAmBA,IAAMC,SAAS,GAAG;AACdC,EAAAA,QAAQ,EAAE,kBAACrB,KAAD,EAAQC,KAAR,EACV;AACID,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACH;AAJa,CAAlB;AASA,eAAe;AACXD,EAAAA,KAAK,EAALA,KADW;AAEXK,EAAAA,OAAO,EAAPA,OAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIXa,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import api from \"../../api/imgur\";\nimport qs from 'qs'\nimport {router} from '../../main'\n\nconst state = {\n    token: window.localStorage.getItem('imgur_token')\n};\n\nconst getters  = {\n    isLoggedIn : state =>  !!state.token\n};\n\nconst actions = {\n    logout :({commit}) =>\n    {\n        commit('setToken', null);\n        window.localStorage.removeItem('imgur_token')\n    },\n    login : () =>{\n        api.login();\n    },\n    finalizeLogin({commit}, hash)\n    {\n        const query = qs.parse(hash.replace('#',''));\n        commit('setToken', query.access_token)\n        window.localStorage.setItem('imgur_token', query.access_token)\n        router.push('/')\n    }\n\n};\n\nconst mutations = {\n    setToken: (state, token) => \n    {\n        state.token = token;\n    }\n\n};\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}"]}]}